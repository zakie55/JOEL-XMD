import moment from 'moment-timezone';
import fs from 'fs';
import os from 'os';
import pkg, { prepareWAMessageMedia } from '@whiskeysockets/baileys';
const { generateWAMessageFromContent, proto } = pkg;
import config from '../../config.cjs';

const alive = async (m, sock) => {
  const prefix = config.PREFIX;
  const mode = config.MODE;
  const pushName = m.pushName || 'User';

  const cmd = m.body.startsWith(prefix)
    ? m.body.slice(prefix.length).split(' ')[0].toLowerCase()
    : '';

  if (cmd === "menu") {
    await m.React('ğŸ’®'); // React with a loading icon
    // Calculate uptime

    const uptimeSeconds = process.uptime();
    const days = Math.floor(uptimeSeconds / (24 * 3600));
    const hours = Math.floor((uptimeSeconds % (24 * 3600)) / 3600);
    const minutes = Math.floor((uptimeSeconds % 3600) / 60);
    const seconds = Math.floor(uptimeSeconds % 60);

    
    // Get real time
    const realTime = moment().tz("Tanzania/Dodoma").format("HH:mm:ss");
    const xtime = moment.tz("Tanzania/Dodoma").format("HH:mm:ss");
    const xdate = moment.tz("Tanzania/Dodoma").format("DD/MM/YYYY");
    const time2 = moment().tz("Tanzania/Dodoma").format("HH:mm:ss");
let pushwish = "";

if (time2 < "05:00:00") {
  pushwish = `Good Morning ğŸŒ„`;
} else if (time2 < "11:00:00") {
  pushwish = `Good Morning ğŸŒ„`;
} else if (time2 < "15:00:00") {
  pushwish = `Good Afternoon ğŸŒ…`;
} else if (time2 < "18:00:00") {
  pushwish = `Good Evening ğŸŒƒ`;
} else if (time2 < "19:00:00") {
  pushwish = `Good Evening ğŸŒƒ`;
} else {
  pushwish = `Good Night ğŸŒŒ`;
}

    const aliveMessage = `Ğ½Ñ”â„“â„“Ïƒ
 *${pushName}* ${pushwish}
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”âŠ·
â•‘ á´Šá´á´‡ÊŸ-xá´á´… á´á´€ÉªÉ´  á´á´‡É´á´œ
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”âŠ·
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”âŠ·
â•‘ *Î·Î±Ğ¼Ñ”:* *ÊÏƒÑ”â„“ Ï‡âˆ‚ vÂ³ Ğ²ÏƒÑ‚*
â•‘ *ÏÑÑ”Æ’Î¹Ï‡:*  *${prefix}*
â•‘ *Ğ¼Ïƒâˆ‚Ñ”:*  *${mode}*
â•‘ *Ñ‚Î¹Ğ¼Ñ”:*  *${realTime}*
â•‘ *ÏƒÏ‰Î·Ñ”Ñ:*  *â„“ÏƒÑâˆ‚ ÊÏƒÑ”â„“*
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”âŠ·
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”âŠ·
â•‘   *ÊÏƒÑ”â„“ Ï‡âˆ‚ Î½ Ñ‚Ğ½ÑÑ”Ñ”*
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”âŠ·
*â‘â”â’ÊÏƒÑ”â„“ Ï‡âˆ‚ Î½ Ñ‚Ğ½ÑÑ”Ñ”â‘â”â’*

---

*Â¢ÏƒÎ·Î½Ñ”ÑÑ‚Ñ”Ñ*
- Î±Ñ‚Ñ‚Ï
- Î±Ñ‚Ñ‚Ï2
- Î±Ñ‚Ñ‚Ï3
- Ñ”Ğ²Î¹Î·Î±ÑÑƒ
- âˆ‚Ğ²Î¹Î·Î±ÑÑƒ
- Ñ”Ğ¼ÏƒÊÎ¹Ğ¼Î¹Ï‡
- Ğ¼Ï3

---

*Î±Î¹*
- Î±Î¹
- Ğ²Ï…g
- ÑÑ”ÏÏƒÑÑ‚
- gÏÑ‚
- âˆ‚Î±â„“â„“Ñ”
- ÑÑ”Ğ¼Î¹Î·Î¹
- gÑ”Ğ¼Î¹Î·Î¹

---

*Ñ‚ÏƒÏƒâ„“*
- Â¢Î±â„“Â¢Ï…â„“Î±Ñ‚ÏƒÑ
- Ñ‚Ñ”Ğ¼ÏĞ¼Î±Î¹â„“
- Â¢Ğ½Ñ”Â¢ĞºĞ¼Î±Î¹â„“
- Ñ‚ÑÑ‚
- Ñ‚Ñ‚Ñ•

---

*gÑÏƒÏ…Ï Â¢ÏƒĞ¼Ğ¼Î±Î·âˆ‚Ñ•*
- â„“Î¹Î·ĞºgÑÏƒÏ…Ï
- Ñ•Ñ”Ñ‚ÏÏgÂ¢
- Ñ•Ñ”Ñ‚Î·Î±Ğ¼Ñ”
- Ñ•Ñ”Ñ‚âˆ‚Ñ”Ñ•Â¢
- gÑÏƒÏ…Ï
- gÂ¢Ñ•Ñ”Ñ‚Ñ‚Î¹Î·g
- Ï‰Ñ”â„“Â¢ÏƒĞ¼Ñ”
- Î±âˆ‚âˆ‚
- ĞºÎ¹Â¢Ğº
- Ğ½Î¹âˆ‚Ñ”Ñ‚Î±g
- Ñ‚Î±gÎ±â„“â„“
- Î±Î·Ñ‚Î¹â„“Î¹Î·Ğº
- Î±Î·Ñ‚Î¹Ñ‚ÏƒÏ‡Î¹Â¢
- ÏÑÏƒĞ¼ÏƒÑ‚Ñ”
- âˆ‚Ñ”Ğ¼ÏƒÑ‚Ñ”
- gÑ”Ñ‚Ğ²Î¹Ïƒ

---

*âˆ‚ÏƒÏ‰Î·â„“ÏƒÎ±âˆ‚*
- Î±ÏĞº
- Æ’Î±Â¢Ñ”Ğ²ÏƒÏƒĞº
- Ğ¼Ñ”âˆ‚Î¹Î±Æ’Î¹ÑÑ”
- ÏÎ¹Î·Ñ‚Ñ”ÑÑ”Ñ•Ñ‚âˆ‚â„“
- gÎ¹Ñ‚Â¢â„“ÏƒÎ·Ñ”
- gâˆ‚ÑÎ¹Î½Ñ”
- Î¹Î·Ñ•Ñ‚Î±
- ÑƒÑ‚Ğ¼Ï3
- ÑƒÑ‚Ğ¼Ï4
- Ïâ„“Î±Ñƒ
- Ñ•ÏƒÎ·g
- Î½Î¹âˆ‚Ñ”Ïƒ
- ÑƒÑ‚Ğ¼Ï3âˆ‚ÏƒÂ¢
- ÑƒÑ‚Ğ¼Ï4âˆ‚ÏƒÂ¢
- Ñ‚Î¹ĞºÑ‚ÏƒĞº

---

*ÏÑÑ”Î·Î¹Ï…Ğ¼ Â¢ÏƒĞ¼Ğ¼Î±Î·gÑ•*
- Ğ²Ï…gĞ¼Ñ”Î·Ï…
- âˆ‚ÏƒÂ¢Ğ²Ï…g
- â„“ÏƒÂ¢Â¢ÑÎ±Ñ•Ğ½
- Î±Ğ¼ÏƒÏ…Î·Ñ‚Ğ²Ï…g <Î±Ğ¼ÏƒÏ…Î·Ñ‚>
- ÏĞ¼Ğ²Ï…g <Î·Ï…Ğ¼Ğ²Ñ”Ñ>
- âˆ‚Ñ”â„“Î±ÑƒĞ²Ï…g <Î·Ï…Ğ¼Ğ²Ñ”Ñ>
- Ñ‚ÑÏƒâ„“â„“ÑƒĞ²Ï…g <Î·Ï…Ğ¼Ğ²Ñ”Ñ>
- âˆ‚ÏƒÂ¢Ï…Ğ²Ï…g <Î·Ï…Ğ¼Ğ²Ñ”Ñ>
- Ï…Î·â„“Î¹Ğ¼Î¹Ñ‚Ñ”âˆ‚Ğ²Ï…g <Î·Ï…Ğ¼Ğ²Ñ”Ñ>
- Ğ²ÏƒĞ¼Ğ²Ï…g <Î·Ï…Ğ¼Ğ²Ñ”Ñ>
- â„“Î±gĞ²Ï…g <Î·Ï…Ğ¼Ğ²Ñ”Ñ>
- gÂ¢Ğ²Ï…g <gÑÏƒÏ…Ïâ„“Î¹Î·Ğº>
- âˆ‚Ñ”â„“Î±ÑƒgÂ¢Ğ²Ï…g <gÑÏƒÏ…Ïâ„“Î¹Î·Ğº>
- Ñ‚ÑÏƒâ„“â„“ÑƒgÂ¢Ğ²Ï…g <gÑÏƒÏ…Ïâ„“Î¹Î·Ğº>
- â„“Î±Ğ²Ğ²Ï…g <gÑÏƒÏ…Ïâ„“Î¹Î·Ğº>
- Ğ²ÏƒĞ¼gÂ¢Ğ²Ï…g <gÑÏƒÏ…Ïâ„“Î¹Î·Ğº>
- Ï…Î·â„“Î¹Ğ¼Î¹Ñ‚Ñ”âˆ‚gÂ¢Ğ²Ï…g <gÑÏƒÏ…Ïâ„“Î¹Î·Ğº>
- âˆ‚ÏƒÂ¢Ï…gÂ¢Ğ²Ï…g <gÑÏƒÏ…Ïâ„“Î¹Î·Ğº>
----

*Ñ•Ñ”Î±ÑÂ¢Ğ½*
- Ïâ„“Î±Ñƒ
- ÑƒÑ‚
- Î¹Ğ¼âˆ‚Ğ²
- gÏƒÏƒgâ„“Ñ”
- gÎ¹Ğ¼Î±gÑ”
- ÏÎ¹Î·Ñ‚Ñ”ÑÑ”Ñ•Ñ‚
- Ï‰Î±â„“â„“ÏÎ±ÏÑ”Ñ
- Ï‰Î¹ĞºÎ¹Ğ¼Ñ”âˆ‚Î¹Î±
- ÑƒÑ‚Ñ•Ñ”Î±ÑÂ¢Ğ½
- ÑÎ¹Î·gÑ‚ÏƒÎ·Ñ”
- â„“ÑƒÑÎ¹Â¢Ñ•

---

*Ğ¼Î±Î¹Î· Â¢ÏƒĞ¼Ğ¼Î±Î·âˆ‚Ñ•*
- ÏÎ¹Î·g
- Î±â„“Î¹Î½Ñ”
- ÏƒÏ‰Î·Ñ”Ñ
- Ğ¼Ñ”Î·Ï…
- Î¹Î·Æ’ÏƒĞ²ÏƒÑ‚

---

*ÏƒÏ‰Î·Ñ”Ñ Â¢ÏƒĞ¼Ğ¼Î±Î·âˆ‚Ñ•*
- ÊÏƒÎ¹Î·
- â„“Ñ”Î±Î½Ñ”
- Ğ²â„“ÏƒÂ¢Ğº
- Ï…Î·Ğ²â„“ÏƒÂ¢Ğº
- Ñ•Ñ”Ñ‚ÏÏĞ²ÏƒÑ‚
- Î±Î·Ñ‚Î¹Â¢Î±â„“â„“
- Ñ•Ñ”Ñ‚Ñ•Ñ‚Î±Ñ‚Ï…Ñ•
- Ñ•Ñ”Ñ‚Î·Î±Ğ¼Ñ”Ğ²ÏƒÑ‚
- Î±Ï…Ñ‚ÏƒĞ²Î¹Ïƒ
- Î±Ï…Ñ‚ÏƒÑ‚ÑƒÏÎ¹Î·g
- Î±â„“Ï‰Î±ÑƒÑ•ÏƒÎ·â„“Î¹Î·Ñ”
- Î±Ï…Ñ‚ÏƒÑÑ”Î±âˆ‚
- Î±Ï…Ñ‚ÏƒÑ•Î½Î¹Ñ”Ï‰

---

*Ñ•Ñ‚Î±â„“ĞºÑ”Ñ*
- Ñ‚ÑÏ…Ñ”Â¢Î±â„“â„“Ñ”Ñ
- Î¹Î·Ñ•Ñ‚Î±Ñ•Ñ‚Î±â„“Ğº
- gÎ¹Ñ‚Ğ½Ï…Ğ²Ñ•Ñ‚Î±â„“Ğº
---

*ÏƒÑ‚Ğ½Ñ”Ñ Â¢ÏƒĞ¼Ğ¼Î±Î·âˆ‚Ñ•*
- Ñ•Î±ÏĞº
- Î±ÏÏ
- Î±ÏÏÑ•Ñ”Î±ÑÂ¢Ğ½
- Ïâ„“Î±ÑƒÑ•Ñ‚ÏƒÑÑ”
- qÏ…ÑÎ±Î·Î½Î¹âˆ‚Ñ”Ïƒ
- Ñ‚ÏƒÏ…Ñâ„“
- Ï…Ñâ„“
- Â¢Ğ½Î±Î·Î·Ñ”â„“
- Ñ•Ï…ÏÏÏƒÑÑ‚
- ÊÏƒÑ”â„“
- Â¢Ğ½Î±Ñ‚
- qÎ½Î¹âˆ‚
- qÏ…ÑÎ±Î·Î½Î¹âˆ‚
- Ñ•Ñ•

---

*Î·Ñ”Ï‰ Â¢ÏƒĞ¼Ğ¼Î±Î·âˆ‚Ñ•*
- Ñ•Â¢ÏƒÑÑ”
- Â¢â„“Î¹Â¢Ğº
- ÑÑ”Ñ•Ï…â„“Ñ‚Ñ•
- gÎ¹Ñ‚Â¢â„“ÏƒÎ·Ñ”
- Ï…Ïâˆ‚Î±Ñ‚Ñ”
- Ñ•Î·Î±Â¢ĞºÎ½Î¹âˆ‚Ñ”Ïƒ
- Ñ•Î·Î±Â¢Ğº
- Ñ•Ğ½ÏƒÑÑ‚Ñ”Î·Ï…Ñâ„“
- ĞºÎ¹Â¢ĞºÎ±â„“â„“
- Î¹ÏÑ•Ñ‚Î±â„“Ğº
- gÎ¹Î½Ñ”Ñ‚Ñ”Ï‡Ñ‚
- Ğ¼Ñ”âˆ‚Î¹Î±Æ’Î¹ÑÑ”
- Æ’Î±Î·Â¢Ñƒ
- Î±Î·Ñ‚Î¹Â¢Î±â„“â„“
- Ï‰Î±Â¢Ğ½Î±Î·Î·Ñ”â„“
- Ğ¼ÏƒÎ½Î¹Ñ”
----
*â‘â”â’â„“ÏƒÑâˆ‚ ÊÏƒÑ”â„“Ñ‚Ñ”Â¢Ğ½â‘â”â‘*`;

    await m.React('â˜„ï¸'); // React with a success icon

    sock.sendMessage(
      m.from,
      {
        text: aliveMessage,
        contextInfo: {
          isForwarded: false,
          forwardedNewsletterMessageInfo: {
            newsletterJid: '120363317462952356@newsletter',
            newsletterName: "á´Šá´á´‡ÊŸ xá´… Ê™á´á´› á´  â·",
            serverMessageId: -1,
          },
          forwardingScore: 999, // Score to indicate it has been forwarded
          externalAdReply: {
            title: "á´Šá´á´‡ÊŸ xá´… Ê™á´á´› á´  â·",
            body: "á´˜á´á´¡á´‡Ê€á´‡á´… Ê™Ê ÊŸá´Ê€á´… á´Šá´á´‡ÊŸ",
            thumbnailUrl: 'https://avatars.githubusercontent.com/u/162905644?v=4', // Add thumbnail URL if required
            sourceUrl: 'https://whatsapp.com/channel/0029Vak2PevK0IBh2pKJPp2K', // Add source URL if necessary
            mediaType: 1,
            renderLargerThumbnail: true,
          },
        },
      },
      { quoted: m }
    );
  }
};

export default alive;
